version: 2
jobs:
  build:
    working_directory: ~/repo
    docker:
      - image: verilumaci/maven-3.3.9
    steps:
      - checkout # check out the code in the project directory             
      - run:
          name: Build and Install web modules
          command: mvn clean install -Pweb
      - run:
          name: Build and Install scheduler module
          command: mvn clean install -Pscheduler
          command: ls -lrt /root/repo
      - store_artifacts:
          path: endpoints/target/*.jar
          destination: endpoint
